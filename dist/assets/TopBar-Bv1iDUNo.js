import{j as e}from"./ui-vendor-mfLK6kkQ.js";import{r as T}from"./react-vendor--0RGCJ5T.js";import{u as D,d as U,g as n,af as S,ao as A,B as j,T as i,s as c,a2 as p,a3 as f,w as P,a4 as N,a6 as t,L as r,ad as g,a5 as u,X as B,$ as L,Q as F,V as $,a7 as M,ap as E}from"./index-DMUxz8dE.js";import{A as z}from"./activity-Dkd0t9nU.js";import{C as I}from"./chevron-down-BE_ioXd1.js";function O({title:w,onMobileMenuToggle:v,showMobileMenu:b}){const{user:a,logout:y}=D(),[d,q]=T.useState(3),{data:m}=U({queryKey:["/api/public/market/price/BTCUSDT"],queryFn:async()=>{const s=await fetch(E("/api/public/market/price/BTCUSDT"));if(!s.ok)throw new Error("Failed to fetch BTC price");const l=await s.json();return{symbol:"BTCUSDT",price:parseFloat(l.price),change24h:Math.random()*10-5,changePercent24h:Math.random()*10-5}},refetchInterval:5e3}),x=m?[m]:[],o=s=>s>1e3?s.toLocaleString(void 0,{maximumFractionDigits:0}):s>1?s.toLocaleString(void 0,{maximumFractionDigits:2}):s.toLocaleString(void 0,{maximumFractionDigits:4}),C=s=>{var l;return s!=null&&s.firstName&&(s!=null&&s.lastName)?`${s.firstName.charAt(0)}${s.lastName.charAt(0)}`.toUpperCase():((l=s==null?void 0:s.email)==null?void 0:l.charAt(0).toUpperCase())||"U"},h=s=>s!=null&&s.firstName&&(s!=null&&s.lastName)?`${s.firstName} ${s.lastName}`:(s==null?void 0:s.email)||"User";return e.jsxs("header",{className:"bg-card border-b border-border sticky top-0 z-40",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 lg:p-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(n,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:v,children:b?e.jsx(S,{className:"h-5 w-5"}):e.jsx(A,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl lg:text-2xl font-bold text-slate-900 dark:text-slate-100",children:w}),(a==null?void 0:a.role)==="admin"&&e.jsx(j,{variant:"destructive",className:"text-xs mt-1",children:"Administrator"})]})]}),e.jsx("div",{className:"hidden lg:flex items-center space-x-6",children:x.map(s=>e.jsxs("div",{className:"bg-muted px-4 py-2 rounded-lg min-w-[140px]",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:s.symbol.replace("USDT","")}),(s.changePercent24h??0)>=0?e.jsx(i,{className:"h-3 w-3 text-green-400"}):e.jsx(c,{className:"h-3 w-3 text-red-400"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsxs("span",{className:"font-semibold text-sm",children:["$",o(s.price)]}),e.jsxs("span",{className:`text-xs ${(s.changePercent24h??0)>=0?"text-green-400":"text-red-400"}`,children:[(s.changePercent24h??0)>=0?"+":"",(s.changePercent24h??0).toFixed(2),"%"]})]})]},s.symbol))}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"hidden md:flex items-center space-x-2 bg-green-600/10 text-green-400 px-3 py-1.5 rounded-lg border border-green-600/20",children:[e.jsx(z,{className:"h-4 w-4 animate-pulse"}),e.jsx("span",{className:"text-xs font-medium",children:"Live"})]}),e.jsxs(p,{children:[e.jsx(f,{asChild:!0,children:e.jsxs(n,{variant:"ghost",size:"sm",className:"relative",children:[e.jsx(P,{className:"h-5 w-5"}),d>0&&e.jsx(j,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 text-xs p-0 flex items-center justify-center",children:d})]})}),e.jsxs(N,{align:"end",className:"w-80",children:[e.jsx("div",{className:"px-3 py-2 border-b",children:e.jsx("h3",{className:"font-semibold",children:"Notifications"})}),e.jsxs("div",{className:"max-h-64 overflow-y-auto",children:[e.jsx(t,{asChild:!0,children:e.jsxs(r,{href:"/alerts",className:"flex items-center space-x-3 p-3",children:[e.jsx("div",{className:"bg-green-600/10 p-2 rounded",children:e.jsx(i,{className:"h-4 w-4 text-green-400"})}),e.jsxs("div",{className:"flex-1 text-sm",children:[e.jsx("p",{className:"font-medium",children:"New BUY signal for BTCUSDT"}),e.jsx("p",{className:"text-muted-foreground",children:"2 minutes ago"})]})]})}),e.jsx(t,{asChild:!0,children:e.jsxs(r,{href:"/alerts",className:"flex items-center space-x-3 p-3",children:[e.jsx("div",{className:"bg-yellow-600/10 p-2 rounded",children:e.jsx(g,{className:"h-4 w-4 text-yellow-400"})}),e.jsxs("div",{className:"flex-1 text-sm",children:[e.jsx("p",{className:"font-medium",children:"Price alert triggered"}),e.jsx("p",{className:"text-muted-foreground",children:"15 minutes ago"})]})]})}),e.jsx(t,{asChild:!0,children:e.jsxs(r,{href:"/alerts",className:"flex items-center space-x-3 p-3",children:[e.jsx("div",{className:"bg-red-600/10 p-2 rounded",children:e.jsx(c,{className:"h-4 w-4 text-red-400"})}),e.jsxs("div",{className:"flex-1 text-sm",children:[e.jsx("p",{className:"font-medium",children:"SELL signal for ETHUSDT"}),e.jsx("p",{className:"text-muted-foreground",children:"1 hour ago"})]})]})})]}),e.jsx(u,{}),e.jsx(t,{asChild:!0,children:e.jsx(r,{href:"/alerts",className:"w-full text-center text-sm font-medium",children:"View All Notifications"})})]})]}),e.jsxs(p,{children:[e.jsx(f,{asChild:!0,children:e.jsxs(n,{variant:"ghost",className:"flex items-center space-x-2 px-3",children:[e.jsx(B,{className:"h-8 w-8",children:e.jsx(L,{className:"bg-primary text-primary-foreground text-sm",children:C(a)})}),e.jsxs("div",{className:"hidden md:block text-left",children:[e.jsx("p",{className:"text-sm font-medium",children:h(a)}),e.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:(a==null?void 0:a.role)||"user"})]}),e.jsx(I,{className:"h-4 w-4 text-muted-foreground"})]})}),e.jsxs(N,{align:"end",className:"w-56",children:[e.jsxs("div",{className:"px-3 py-2 border-b",children:[e.jsx("p",{className:"font-medium",children:h(a)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a==null?void 0:a.email})]}),e.jsx(t,{asChild:!0,children:e.jsxs(r,{href:"/settings",className:"flex items-center",children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),"Settings"]})}),e.jsx(t,{asChild:!0,children:e.jsxs(r,{href:"/preferences",className:"flex items-center",children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Preferences"]})}),e.jsx(t,{asChild:!0,children:e.jsxs(r,{href:"/advanced-alerts",className:"flex items-center",children:[e.jsx(g,{className:"mr-2 h-4 w-4"}),"Advanced Alerts"]})}),e.jsx(u,{}),e.jsxs(t,{onClick:y,className:"flex items-center text-red-600 focus:text-red-600",children:[e.jsx(M,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]}),e.jsx("div",{className:"lg:hidden border-t border-border p-4",children:e.jsx("div",{className:"flex space-x-4 overflow-x-auto",children:x.map(s=>e.jsxs("div",{className:"bg-muted px-3 py-2 rounded-lg min-w-[120px] flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:s.symbol.replace("USDT","")}),(s.changePercent24h??0)>=0?e.jsx(i,{className:"h-3 w-3 text-green-400"}):e.jsx(c,{className:"h-3 w-3 text-red-400"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsxs("span",{className:"font-semibold text-sm",children:["$",o(s.price)]}),e.jsxs("span",{className:`text-xs ${(s.changePercent24h??0)>=0?"text-green-400":"text-red-400"}`,children:[(s.changePercent24h??0)>=0?"+":"",(s.changePercent24h??0).toFixed(2),"%"]})]})]},s.symbol))})})]})}export{O as T};
//# sourceMappingURL=TopBar-Bv1iDUNo.js.map
