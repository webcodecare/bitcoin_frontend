import{j as e}from"./ui-vendor-mfLK6kkQ.js";import{E as c,l as m,u,a as l,P as p}from"./index-7LWdN5Ff.js";import{r as i}from"./react-vendor--0RGCJ5T.js";import{f as d,b as f}from"./index-DMUxz8dE.js";import"./chart-vendor-CJvGuOij.js";throw new Error("Missing required Stripe key: VITE_STRIPE_PUBLIC_KEY");const h=m(""),x=()=>{const r=u(),s=l(),{toast:t}=f(),o=async a=>{if(a.preventDefault(),!r||!s)return;const{error:n}=await r.confirmPayment({elements:s,confirmParams:{return_url:window.location.origin}});t(n?{title:"Payment Failed",description:n.message,variant:"destructive"}:{title:"Payment Successful",description:"Thank you for your purchase!"})};return e.jsxs("form",{onSubmit:o,children:[e.jsx(p,{}),e.jsx("button",{children:"Submit"})]})};function b(){const[r,s]=i.useState("");return i.useEffect(()=>{d("POST","/api/create-payment-intent",{items:[{id:"xl-tshirt"}],amount:321}).then(t=>t.json()).then(t=>{s(t.clientSecret)})},[]),r?e.jsx(c,{stripe:h,options:{clientSecret:r},children:e.jsx(x,{})}):e.jsx("div",{className:"h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full","aria-label":"Loading"})})}export{b as default};
//# sourceMappingURL=checkout-DYCiHBv_.js.map
