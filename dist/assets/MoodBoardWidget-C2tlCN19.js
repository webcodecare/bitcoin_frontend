import{j as e}from"./ui-vendor-mfLK6kkQ.js";import{r as x}from"./react-vendor--0RGCJ5T.js";import{c as v,d as M,j as h,n as u,o as j,k as p,B as m,g as b,L as w,ab as B}from"./index-DMUxz8dE.js";import{m as f}from"./motion-vendor-B7jM4TtD.js";import{A as k}from"./activity-Dkd0t9nU.js";import"./chart-vendor-CJvGuOij.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=v("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),S={buy:[{emoji:"🚀",sentiment:"Very Bullish",strength:5},{emoji:"📈",sentiment:"Bullish",strength:4},{emoji:"💚",sentiment:"Optimistic",strength:3},{emoji:"🟢",sentiment:"Cautious Buy",strength:2},{emoji:"⚡",sentiment:"Quick Buy",strength:4}],sell:[{emoji:"🔴",sentiment:"Bearish",strength:4},{emoji:"📉",sentiment:"Very Bearish",strength:5},{emoji:"⚠️",sentiment:"Warning",strength:3},{emoji:"💔",sentiment:"Breakdown",strength:5},{emoji:"🔻",sentiment:"Cautious Sell",strength:2}]},T=a=>{const l=a.signalType.toLowerCase(),i=S[l],o=Math.floor(Math.random()*i.length);return i[o]};function E(){const[a,l]=x.useState([]),{data:i,isLoading:o}=M({queryKey:["/api/signals"],refetchInterval:1e4});x.useEffect(()=>{if(i){const s=i.slice(0,6).map(t=>({...t,mood:T(t)}));l(s)}},[i]);const N=s=>{const t=new Date,n=new Date(s),y=t.getTime()-n.getTime(),r=Math.floor(y/(1e3*60));if(r<1)return"Now";if(r<60)return`${r}m`;const c=Math.floor(r/60);return c<24?`${c}h`:`${Math.floor(c/24)}d`},d=(()=>{if(a.length===0)return{emoji:"😐",label:"Neutral"};const s=a.filter(n=>n.signalType==="buy").length,t=a.filter(n=>n.signalType==="sell").length;return s>t?{emoji:"😊",label:"Bullish Mood"}:t>s?{emoji:"😟",label:"Bearish Mood"}:{emoji:"😐",label:"Mixed Signals"}})();return o?e.jsxs(h,{children:[e.jsx(u,{children:e.jsxs(j,{className:"flex items-center space-x-2",children:[e.jsx(g,{className:"w-5 h-5"}),e.jsx("span",{children:"Signal Mood"})]})}),e.jsx(p,{children:e.jsx("div",{className:"animate-pulse space-y-3",children:Array.from({length:3},(s,t)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-muted rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-muted rounded mb-1"}),e.jsx("div",{className:"h-3 bg-muted rounded w-2/3"})]})]},t))})})]}):e.jsxs(h,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(u,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(j,{className:"flex items-center space-x-2",children:[e.jsx(g,{className:"w-5 h-5"}),e.jsx("span",{children:"Signal Mood"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f.span,{className:"text-xl",animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:d.emoji}),e.jsx(m,{variant:"outline",className:"text-xs",children:d.label})]})]})}),e.jsxs(p,{className:"pt-0",children:[e.jsx("div",{className:"space-y-3",children:a.length===0?e.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[e.jsx(k,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No recent signals"})]}):a.slice(0,4).map(s=>e.jsxs(f.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsx("span",{className:"text-xl",children:s.mood.emoji}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium text-sm",children:s.ticker}),e.jsx(m,{variant:s.signalType==="buy"?"default":"destructive",className:"text-xs",children:s.signalType.toUpperCase()}),s.timeframe&&e.jsx(m,{variant:"outline",className:"text-xs",children:s.timeframe})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-muted-foreground",children:["$",parseFloat(s.price).toLocaleString()]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:N(s.timestamp)})]})]})]},s.id))}),a.length>0&&e.jsx("div",{className:"pt-4 border-t mt-4",children:e.jsx(b,{asChild:!0,variant:"outline",className:"w-full",size:"sm",children:e.jsxs(w,{href:"/mood-board",className:"flex items-center space-x-2",children:[e.jsx("span",{children:"View Full Mood Board"}),e.jsx(B,{className:"w-4 h-4"})]})})})]})]})}export{E as default};
//# sourceMappingURL=MoodBoardWidget-C2tlCN19.js.map
