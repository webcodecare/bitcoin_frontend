import{j as e}from"./ui-vendor-mfLK6kkQ.js";import{r as x}from"./react-vendor--0RGCJ5T.js";import{c as he,b as ue,d as D,e as u,g as i,P as K,j as p,n as j,k as v,o as B,p as P,B as E,D as z,E as Q,F as H,G as R,H as _,I as t,J as o,K as $,t as V,f as g,aq as y}from"./index-DMUxz8dE.js";import{T as J}from"./textarea-Ucyr82iJ.js";import{S as W}from"./switch-6PBAG7U5.js";import{T as pe,a as je,b as M,c as q}from"./tabs-CFs29E2A.js";import{S as ve,a as U}from"./Sidebar-CWwWAgFd.js";import{H as ge}from"./Header-CZNG9THd.js";import{T as ye}from"./trash-2-DEwSYusZ.js";import{D as Ne}from"./dollar-sign-BsbVyGJM.js";import{S as G}from"./save-BnNngDY3.js";import{F as b}from"./file-text-CVGYDGjh.js";import{E as fe}from"./eye-BgYbbTe1.js";import"./chart-vendor-CJvGuOij.js";import"./index-BBVDPgwe.js";import"./activity-Dkd0t9nU.js";import"./message-square-DEryHNXU.js";import"./NotificationCenter-CPdR7ta7.js";import"./index-BdQq_4o_.js";import"./volume-2-Cn_3p6P5.js";import"./circle-check-big-DJe8srSt.js";import"./info-KqEO34od.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=he("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);function _e(){const[N,w]=x.useState(null),[f,T]=x.useState(null),[X,d]=x.useState(!1),[Y,m]=x.useState(!1),[c,r]=x.useState({section:"hero",title:"",content:"",isActive:!0,order:1}),[n,l]=x.useState({name:"",role:"",company:"",content:"",rating:5,avatarUrl:"",isActive:!0}),{toast:h}=ue(),{data:Z=[],isLoading:ee}=D({queryKey:["/api/admin/cms-blocks"]}),{data:se=[],isLoading:ae}=D({queryKey:["/api/admin/testimonials"]}),{data:te=[],isLoading:ie}=D({queryKey:["/api/admin/pricing-content"]}),k=u({mutationFn:async s=>(await g("POST","/api/admin/cms-blocks",s)).json(),onSuccess:()=>{y.invalidateQueries({queryKey:["/api/admin/cms-blocks"]}),d(!1),O(),h({title:"Content Block Created",description:"Content block has been created successfully."})}}),A=u({mutationFn:async({id:s,data:a})=>(await g("PUT",`/api/admin/cms-blocks/${s}`,a)).json(),onSuccess:()=>{y.invalidateQueries({queryKey:["/api/admin/cms-blocks"]}),d(!1),w(null),h({title:"Content Updated",description:"Content block has been updated successfully."})}}),S=u({mutationFn:async s=>(await g("POST","/api/admin/testimonials",s)).json(),onSuccess:()=>{y.invalidateQueries({queryKey:["/api/admin/testimonials"]}),m(!1),I(),h({title:"Testimonial Created",description:"Testimonial has been created successfully."})}}),F=u({mutationFn:async({id:s,data:a})=>(await g("PUT",`/api/admin/testimonials/${s}`,a)).json(),onSuccess:()=>{y.invalidateQueries({queryKey:["/api/admin/testimonials"]}),m(!1),T(null),h({title:"Testimonial Updated",description:"Testimonial has been updated successfully."})}}),L=u({mutationFn:async s=>(await g("DELETE",`/api/admin/cms-blocks/${s}`)).json(),onSuccess:()=>{y.invalidateQueries({queryKey:["/api/admin/cms-blocks"]}),h({title:"Content Deleted",description:"Content block has been deleted successfully."})}}),O=()=>{r({section:"hero",title:"",content:"",isActive:!0,order:1})},I=()=>{l({name:"",role:"",company:"",content:"",rating:5,avatarUrl:"",isActive:!0})},ne=s=>{w(s),r({section:s.section,title:s.title,content:s.content,isActive:s.isActive,order:s.order}),d(!0)},le=s=>{T(s),l({name:s.name,role:s.role,company:s.company,content:s.content,rating:s.rating,avatarUrl:s.avatarUrl||"",isActive:s.isActive}),m(!0)},ce=()=>{O(),w(null),d(!0)},re=()=>{I(),T(null),m(!0)},oe=()=>{N?A.mutate({id:N.id,data:c}):k.mutate(c)},de=()=>{f?F.mutate({id:f.id,data:n}):S.mutate(n)},me=s=>{switch(s){case"hero":return e.jsx(V,{className:"h-4 w-4 text-yellow-500"});case"features":return e.jsx(b,{className:"h-4 w-4 text-blue-500"});case"about":return e.jsx(fe,{className:"h-4 w-4 text-green-500"});case"contact":return e.jsx(b,{className:"h-4 w-4 text-purple-500"});case"footer":return e.jsx(b,{className:"h-4 w-4 text-gray-500"});default:return e.jsx(b,{className:"h-4 w-4"})}},xe=s=>Array.from({length:5},(a,C)=>e.jsx(V,{className:`h-4 w-4 ${C<s?"text-yellow-500 fill-current":"text-gray-300"}`},C));return e.jsxs("div",{className:"flex h-screen bg-background",children:[e.jsx(ve,{className:"hidden md:flex"}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden ml-0 md:ml-64",children:[e.jsx(ge,{title:"Content Management",subtitle:"Manage home page content, testimonials, and pricing information"}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(pe,{defaultValue:"cms",className:"space-y-4",children:[e.jsxs(je,{children:[e.jsx(M,{value:"cms",children:"Website Content"}),e.jsx(M,{value:"testimonials",children:"Testimonials"}),e.jsx(M,{value:"pricing",children:"Pricing Content"})]}),e.jsxs(q,{value:"cms",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Website Content Blocks"}),e.jsxs(i,{onClick:ce,children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),"Add Content Block"]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:ee?Array.from({length:6}).map((s,a)=>e.jsxs(p,{className:"animate-pulse",children:[e.jsxs(j,{children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}),e.jsx(v,{children:e.jsx("div",{className:"h-20 bg-gray-200 rounded"})})]},a)):Z.map(s=>e.jsxs(p,{className:s.isActive?"":"opacity-60",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[me(s.section),e.jsxs("div",{children:[e.jsx(B,{className:"text-lg",children:s.title}),e.jsxs(P,{className:"capitalize",children:[s.section," section"]})]})]}),e.jsx(E,{variant:s.isActive?"default":"secondary",children:s.isActive?"Active":"Inactive"})]})}),e.jsx(v,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:s.content}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Order: ",s.order," â€¢ Modified: ",new Date(s.lastModified).toLocaleDateString()]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>ne(s),className:"flex-1",children:[e.jsx(U,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>L.mutate(s.id),disabled:L.isPending,children:e.jsx(ye,{className:"h-4 w-4"})})]})]})})]},s.id))})]}),e.jsxs(q,{value:"testimonials",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Customer Testimonials"}),e.jsxs(i,{onClick:re,children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),"Add Testimonial"]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:ae?Array.from({length:4}).map((s,a)=>e.jsxs(p,{className:"animate-pulse",children:[e.jsxs(j,{children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}),e.jsx(v,{children:e.jsx("div",{className:"h-16 bg-gray-200 rounded"})})]},a)):se.map(s=>e.jsxs(p,{className:s.isActive?"":"opacity-60",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ce,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx(B,{className:"text-lg",children:s.name}),e.jsxs(P,{children:[s.role," at ",s.company]})]})]}),e.jsx(E,{variant:s.isActive?"default":"secondary",children:s.isActive?"Active":"Inactive"})]})}),e.jsx(v,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex space-x-1",children:xe(s.rating)}),e.jsxs("p",{className:"text-sm text-muted-foreground line-clamp-3",children:['"',s.content,'"']}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>le(s),className:"flex-1",children:[e.jsx(U,{className:"h-4 w-4 mr-1"}),"Edit"]})})]})})]},s.id))})]}),e.jsx(q,{value:"pricing",className:"space-y-4",children:e.jsxs(p,{children:[e.jsxs(j,{children:[e.jsx(B,{children:"Pricing Page Content"}),e.jsx(P,{children:"Manage pricing plan descriptions and call-to-action text"})]}),e.jsx(v,{children:ie?e.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((s,a)=>e.jsx("div",{className:"h-20 bg-gray-100 rounded animate-pulse"},a))}):e.jsx("div",{className:"space-y-4",children:te.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Ne,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:s.title}),e.jsxs("p",{className:"text-sm text-muted-foreground capitalize",children:[s.planTier," plan"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.subtitle})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(E,{variant:s.isActive?"default":"secondary",children:s.isActive?"Active":"Inactive"}),e.jsxs(i,{variant:"outline",size:"sm",children:[e.jsx(U,{className:"h-4 w-4 mr-1"}),"Edit"]})]})]},s.id))})})]})})]}),e.jsx(z,{open:X,onOpenChange:d,children:e.jsxs(Q,{className:"max-w-2xl",children:[e.jsxs(H,{children:[e.jsx(R,{children:N?"Edit Content Block":"Create Content Block"}),e.jsx(_,{children:N?"Update website content":"Add new content to your website"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"section",children:"Section"}),e.jsxs("select",{id:"section",value:c.section,onChange:s=>r(a=>({...a,section:s.target.value})),className:"w-full px-3 py-2 border border-border rounded-md",children:[e.jsx("option",{value:"hero",children:"Hero"}),e.jsx("option",{value:"features",children:"Features"}),e.jsx("option",{value:"about",children:"About"}),e.jsx("option",{value:"contact",children:"Contact"}),e.jsx("option",{value:"footer",children:"Footer"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"order",children:"Display Order"}),e.jsx(o,{id:"order",type:"number",value:c.order,onChange:s=>r(a=>({...a,order:Number(s.target.value)})),min:"1"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"title",children:"Title"}),e.jsx(o,{id:"title",value:c.title,onChange:s=>r(a=>({...a,title:s.target.value})),placeholder:"Content block title"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"content",children:"Content"}),e.jsx(J,{id:"content",value:c.content,onChange:s=>r(a=>({...a,content:s.target.value})),placeholder:"Content block text...",rows:6})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(W,{checked:c.isActive,onCheckedChange:s=>r(a=>({...a,isActive:s}))}),e.jsx(t,{children:"Make this content visible"})]})]}),e.jsxs($,{children:[e.jsx(i,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),e.jsxs(i,{onClick:oe,disabled:k.isPending||A.isPending,children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),k.isPending||A.isPending?"Saving...":"Save"]})]})]})}),e.jsx(z,{open:Y,onOpenChange:m,children:e.jsxs(Q,{className:"max-w-2xl",children:[e.jsxs(H,{children:[e.jsx(R,{children:f?"Edit Testimonial":"Create Testimonial"}),e.jsx(_,{children:f?"Update customer testimonial":"Add new customer testimonial"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"name",children:"Customer Name"}),e.jsx(o,{id:"name",value:n.name,onChange:s=>l(a=>({...a,name:s.target.value})),placeholder:"John Doe"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"rating",children:"Rating (1-5)"}),e.jsx(o,{id:"rating",type:"number",min:"1",max:"5",value:n.rating,onChange:s=>l(a=>({...a,rating:Number(s.target.value)}))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"role",children:"Role"}),e.jsx(o,{id:"role",value:n.role,onChange:s=>l(a=>({...a,role:s.target.value})),placeholder:"CEO"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"company",children:"Company"}),e.jsx(o,{id:"company",value:n.company,onChange:s=>l(a=>({...a,company:s.target.value})),placeholder:"Tech Company Inc."})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"testimonial-content",children:"Testimonial"}),e.jsx(J,{id:"testimonial-content",value:n.content,onChange:s=>l(a=>({...a,content:s.target.value})),placeholder:"This product has transformed our business...",rows:4})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"avatar",children:"Avatar URL (optional)"}),e.jsx(o,{id:"avatar",value:n.avatarUrl,onChange:s=>l(a=>({...a,avatarUrl:s.target.value})),placeholder:"https://example.com/avatar.jpg"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(W,{checked:n.isActive,onCheckedChange:s=>l(a=>({...a,isActive:s}))}),e.jsx(t,{children:"Display this testimonial"})]})]}),e.jsxs($,{children:[e.jsx(i,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),e.jsxs(i,{onClick:de,disabled:S.isPending||F.isPending,children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),S.isPending||F.isPending?"Saving...":"Save"]})]})]})})]})})]})]})}export{_e as default};
//# sourceMappingURL=content-BkpHVLn8.js.map
