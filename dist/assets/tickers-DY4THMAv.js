import{j as e}from"./ui-vendor-mfLK6kkQ.js";import{r as x}from"./react-vendor--0RGCJ5T.js";import{b as z,a as X,d as G,e as y,D,z as V,g as t,P as W,E as U,F,G as B,H as P,I as r,J as h,K as A,j as u,n as O,o as L,k as q,B as Y,f}from"./index-DMUxz8dE.js";import{S as Z,C as M,a as _}from"./Sidebar-CWwWAgFd.js";import{S as k}from"./switch-6PBAG7U5.js";import{T as ee,a as se,b as S,c as j,d as ae,e as d}from"./table-C5Wewpyf.js";import{S as ie}from"./search-DB-Wf2A-.js";import{C as le}from"./circle-check-big-DJe8srSt.js";import{C as te}from"./circle-x-CG5ILRXV.js";import{T as ne}from"./trash-2-DEwSYusZ.js";import"./chart-vendor-CJvGuOij.js";import"./activity-Dkd0t9nU.js";import"./dollar-sign-BsbVyGJM.js";import"./message-square-DEryHNXU.js";import"./file-text-CVGYDGjh.js";import"./index-BBVDPgwe.js";function Ne(){const{toast:l}=z(),p=X(),[T,I]=x.useState(""),[Q,b]=x.useState(!1),[H,g]=x.useState(!1),[a,c]=x.useState(null),[n,o]=x.useState({symbol:"",description:"",isEnabled:!0}),{data:i,isLoading:K}=G({queryKey:["/api/admin/tickers"]}),R=y({mutationFn:async({tickerId:s,updates:m})=>await f(`/api/admin/tickers/${s}`,{method:"PUT",body:JSON.stringify(m)}),onSuccess:()=>{p.invalidateQueries({queryKey:["/api/admin/tickers"]}),l({title:"Ticker updated successfully"})},onError:s=>{l({title:s.message||"Failed to update ticker",variant:"destructive"})}}),E=y({mutationFn:async s=>await f("/api/admin/tickers",{method:"POST",body:JSON.stringify(s)}),onSuccess:()=>{p.invalidateQueries({queryKey:["/api/admin/tickers"]}),o({symbol:"",description:"",isEnabled:!0}),b(!1),l({title:"Ticker created successfully"})},onError:s=>{l({title:s.message||"Failed to create ticker",variant:"destructive"})}}),w=y({mutationFn:async s=>await f(`/api/admin/tickers/${s}`,{method:"DELETE"}),onSuccess:()=>{p.invalidateQueries({queryKey:["/api/admin/tickers"]}),l({title:"Ticker deleted successfully"})},onError:s=>{l({title:s.message||"Failed to delete ticker",variant:"destructive"})}}),v=y({mutationFn:async({tickerId:s,updates:m})=>await f(`/api/admin/tickers/${s}`,{method:"PUT",body:JSON.stringify(m)}),onSuccess:()=>{p.invalidateQueries({queryKey:["/api/admin/tickers"]}),g(!1),c(null),l({title:"Ticker updated successfully"})},onError:s=>{l({title:s.message||"Failed to update ticker",variant:"destructive"})}}),J=s=>{c(s),g(!0)},$=s=>{confirm("Are you sure you want to delete this ticker? This action cannot be undone.")&&w.mutate(s)},N=i==null?void 0:i.filter(s=>s.symbol.toLowerCase().includes(T.toLowerCase())||s.description.toLowerCase().includes(T.toLowerCase())),C={total:(i==null?void 0:i.length)||0,enabled:(i==null?void 0:i.filter(s=>s.isEnabled).length)||0,disabled:(i==null?void 0:i.filter(s=>!s.isEnabled).length)||0};return e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("div",{className:"flex",children:[e.jsx(Z,{}),e.jsxs("div",{className:"lg:ml-64 flex-1",children:[e.jsx("div",{className:"lg:hidden bg-card border-b border-border p-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(M,{className:"h-5 w-5"}),e.jsx("h1",{className:"text-lg font-bold",children:"Ticker Management"})]})})}),e.jsx("header",{className:"hidden lg:block bg-card border-b border-border p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(M,{className:"h-6 w-6"}),e.jsx("h1",{className:"text-2xl font-bold",children:"Ticker Management"})]}),e.jsxs(D,{open:Q,onOpenChange:b,children:[e.jsx(V,{asChild:!0,children:e.jsxs(t,{className:"crypto-gradient text-white",children:[e.jsx(W,{className:"mr-2 h-4 w-4"}),"Add Ticker"]})}),e.jsxs(U,{children:[e.jsxs(F,{children:[e.jsx(B,{children:"Add New Ticker"}),e.jsx(P,{children:"Add a new cryptocurrency ticker to the platform"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"symbol",children:"Symbol"}),e.jsx(h,{id:"symbol",value:n.symbol,onChange:s=>o({...n,symbol:s.target.value}),placeholder:"BTCUSDT"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"description",children:"Description"}),e.jsx(h,{id:"description",value:n.description,onChange:s=>o({...n,description:s.target.value}),placeholder:"Bitcoin / Tether USD"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{checked:n.isEnabled,onCheckedChange:s=>o({...n,isEnabled:s})}),e.jsx(r,{children:"Enabled"})]})]}),e.jsxs(A,{children:[e.jsx(t,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),e.jsx(t,{onClick:()=>E.mutate(n),disabled:E.isPending,className:"crypto-gradient text-white",children:"Create Ticker"})]})]})]}),e.jsx(D,{open:H,onOpenChange:g,children:e.jsxs(U,{children:[e.jsxs(F,{children:[e.jsx(B,{children:"Edit Ticker"}),e.jsx(P,{children:"Update the ticker information"})]}),a&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"edit-symbol",children:"Symbol"}),e.jsx(h,{id:"edit-symbol",value:a.symbol,onChange:s=>c({...a,symbol:s.target.value}),placeholder:"BTCUSDT"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"edit-description",children:"Description"}),e.jsx(h,{id:"edit-description",value:a.description,onChange:s=>c({...a,description:s.target.value}),placeholder:"Bitcoin / Tether USD"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{checked:a.isEnabled,onCheckedChange:s=>c({...a,isEnabled:s})}),e.jsx(r,{children:"Enabled"})]})]}),e.jsxs(A,{children:[e.jsx(t,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),e.jsx(t,{onClick:()=>a&&v.mutate({tickerId:a.id,updates:{symbol:a.symbol,description:a.description,isEnabled:a.isEnabled}}),disabled:v.isPending,className:"crypto-gradient text-white",children:v.isPending?"Updating...":"Update Ticker"})]})]})})]})}),e.jsxs("div",{className:"p-4 lg:p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ie,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(h,{placeholder:"Search tickers...",value:T,onChange:s=>I(s.target.value),className:"pl-10 w-full lg:w-64"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[e.jsxs(u,{className:"p-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Tickers"}),e.jsx("div",{className:"text-2xl font-bold",children:C.total})]}),e.jsxs(u,{className:"p-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Enabled"}),e.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:C.enabled})]}),e.jsxs(u,{className:"p-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Disabled"}),e.jsx("div",{className:"text-2xl font-bold text-red-400",children:C.disabled})]})]})]}),e.jsxs(u,{children:[e.jsx(O,{children:e.jsx(L,{children:"Available Tickers"})}),e.jsx(q,{children:e.jsxs(ee,{children:[e.jsx(se,{children:e.jsxs(S,{children:[e.jsx(j,{children:"Symbol"}),e.jsx(j,{children:"Description"}),e.jsx(j,{children:"Status"}),e.jsx(j,{children:"Created"}),e.jsx(j,{children:"Actions"})]})}),e.jsx(ae,{children:K?e.jsx(S,{children:e.jsx(d,{colSpan:5,className:"text-center py-8",children:"Loading tickers..."})}):N==null?void 0:N.map(s=>e.jsxs(S,{children:[e.jsx(d,{className:"font-semibold font-mono",children:s.symbol}),e.jsx(d,{className:"text-muted-foreground",children:s.description}),e.jsx(d,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{checked:s.isEnabled,onCheckedChange:m=>R.mutate({tickerId:s.id,updates:{isEnabled:m}})}),e.jsx(Y,{variant:s.isEnabled?"default":"secondary",children:s.isEnabled?e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"mr-1 h-3 w-3"})," Enabled"]}):e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"mr-1 h-3 w-3"})," Disabled"]})})]})}),e.jsx(d,{children:new Date(s.createdAt).toLocaleDateString()}),e.jsx(d,{children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(t,{variant:"outline",size:"sm",onClick:()=>J(s),children:e.jsx(_,{className:"h-4 w-4"})}),e.jsx(t,{variant:"outline",size:"sm",onClick:()=>$(s.id),disabled:w.isPending,children:e.jsx(ne,{className:"h-4 w-4"})})]})})]},s.id))})]})})]}),e.jsxs(u,{children:[e.jsx(O,{children:e.jsx(L,{children:"Quick Add Popular Tickers"})}),e.jsx(q,{children:e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4",children:[{symbol:"BTCUSDT",name:"Bitcoin"},{symbol:"ETHUSDT",name:"Ethereum"},{symbol:"BNBUSDT",name:"Binance Coin"},{symbol:"ADAUSDT",name:"Cardano"},{symbol:"SOLUSDT",name:"Solana"},{symbol:"XRPUSDT",name:"Ripple"},{symbol:"DOTUSDT",name:"Polkadot"},{symbol:"MATICUSDT",name:"Polygon"}].map(s=>e.jsxs(t,{variant:"outline",className:"h-16 flex-col",onClick:()=>{o({symbol:s.symbol,description:`${s.name} / Tether USD`,isEnabled:!0}),b(!0)},children:[e.jsx("div",{className:"font-mono font-semibold",children:s.symbol}),e.jsx("div",{className:"text-xs text-muted-foreground",children:s.name})]},s.symbol))})})]})]})]})]})})}export{Ne as default};
//# sourceMappingURL=tickers-DY4THMAv.js.map
