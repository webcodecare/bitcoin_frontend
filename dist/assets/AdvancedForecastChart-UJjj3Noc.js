import{j as e}from"./ui-vendor-mfLK6kkQ.js";import{r as B}from"./react-vendor--0RGCJ5T.js";import{c as g,d as Q,e as V,j as t,n as o,o as m,k as r,g as J,Z as X,B as i,T as Y,l as E,ad as ee,f as se}from"./index-DMUxz8dE.js";import{P as v}from"./progress-DmVvbdU4.js";import{T as ae,a as te,b as j,c as u}from"./tabs-CFs29E2A.js";import{R as re}from"./refresh-cw-CQdY5ta9.js";import{T as O}from"./target-DyLadsKk.js";import{C as ce}from"./chart-line-BqVUJ2DR.js";import{A as ne}from"./activity-Dkd0t9nU.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=g("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=g("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=g("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=g("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);function xe({ticker:h}){var C,M,L,S,A,T,D,F,R,$,P,G,W,z,q;const[d,_]=B.useState(30),[p,N]=B.useState(!1),{data:y=[],isLoading:oe}=Q({queryKey:[`/api/public/forecast/models/${h}`]}),I=Array.isArray(y)?y:[],x=V({mutationFn:async s=>{N(!0),console.log(`Generating forecast for ${h} with horizon ${s}`);const a=await se("POST",`/api/public/forecast/advanced/${h}`,{horizon:s});return console.log("Forecast response:",a),a},onSuccess:s=>{N(!1),console.log("Forecast generation successful:",s)},onError:s=>{N(!1),console.error("Forecast generation failed:",s)}}),c=((C=x.data)==null?void 0:C.forecast)||[],f=((M=x.data)==null?void 0:M.overallConfidence)||0,b=((L=x.data)==null?void 0:L.models)||[],U=()=>{x.mutate(d)},w=s=>{switch(s.toLowerCase()){case"fourier transform":return e.jsx(de,{className:"h-4 w-4"});case"elliott wave":return e.jsx(ne,{className:"h-4 w-4"});case"gann analysis":return e.jsx(le,{className:"h-4 w-4"});case"harmonic patterns":return e.jsx(O,{className:"h-4 w-4"});case"fractal dimension":return e.jsx(Z,{className:"h-4 w-4"});case"entropy analysis":return e.jsx(E,{className:"h-4 w-4"});default:return e.jsx(ce,{className:"h-4 w-4"})}},k=s=>{switch(s){case"bull":return"bg-green-500";case"bear":return"bg-red-500";case"volatile":return"bg-orange-500";case"sideways":return"bg-blue-500";default:return"bg-gray-500"}},K=s=>{switch(s){case"accumulation":return"bg-blue-500";case"markup":return"bg-green-500";case"distribution":return"bg-orange-500";case"markdown":return"bg-red-500";default:return"bg-gray-500"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(t,{children:[e.jsx(o,{children:e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-5 w-5"}),"Advanced Cycle Forecasting - ",h.replace("USDT","")]})}),e.jsxs(r,{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Forecast Horizon:"}),e.jsxs("select",{value:d,onChange:s=>_(Number(s.target.value)),className:"px-3 py-1 border rounded-md text-sm",children:[e.jsx("option",{value:7,children:"7 Days"}),e.jsx("option",{value:14,children:"14 Days"}),e.jsx("option",{value:30,children:"30 Days"}),e.jsx("option",{value:60,children:"60 Days"}),e.jsx("option",{value:90,children:"90 Days"})]})]}),e.jsxs(J,{onClick:U,disabled:p,className:"flex items-center gap-2",children:[p?e.jsx(re,{className:"h-4 w-4 animate-spin"}):e.jsx(X,{className:"h-4 w-4"}),p?"Generating...":"Generate Forecast"]})]}),f>0&&e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Overall Confidence:"}),e.jsx(v,{value:f*100,className:"w-24"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[(f*100).toFixed(1),"%"]})]}),((S=x.data)==null?void 0:S.generatedAt)&&e.jsxs(i,{variant:"outline",className:"text-xs",children:["Generated: ",new Date(x.data.generatedAt).toLocaleTimeString()]})]})]})]}),e.jsxs(ae,{defaultValue:"models",className:"w-full",children:[e.jsxs(te,{className:"grid w-full grid-cols-4",children:[e.jsx(j,{value:"models",children:"Algorithm Models"}),e.jsx(j,{value:"forecast",children:"Price Forecast"}),e.jsx(j,{value:"analysis",children:"Market Analysis"}),e.jsx(j,{value:"levels",children:"Support/Resistance"})]}),e.jsx(u,{value:"models",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:I.map((s,a)=>e.jsxs(t,{children:[e.jsx(o,{className:"pb-3",children:e.jsxs(m,{className:"text-sm flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[w(s.name),s.name]}),e.jsxs(i,{variant:s.accuracy>.75?"default":"secondary",children:[(s.accuracy*100).toFixed(1),"%"]})]})}),e.jsxs(r,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Confidence"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{value:s.confidence*100,className:"w-16 h-2"}),e.jsxs("span",{className:"text-xs",children:[(s.confidence*100).toFixed(0),"%"]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Last Calibrated"}),e.jsx("div",{className:"text-xs",children:new Date(s.lastCalibrated).toLocaleDateString()})]}),s.dominantCycles&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Dominant Cycles"}),e.jsx("div",{className:"flex gap-1",children:s.dominantCycles.slice(0,3).map((n,l)=>e.jsxs(i,{variant:"outline",className:"text-xs",children:[n,"d"]},l))})]}),s.currentWave&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Current Wave"}),e.jsxs(i,{variant:"secondary",className:"text-xs",children:["Wave ",s.currentWave]})]}),s.detectedPatterns&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Patterns"}),e.jsx("div",{className:"flex gap-1",children:s.detectedPatterns.map((n,l)=>e.jsx(i,{variant:"outline",className:"text-xs",children:n},l))})]}),s.regime&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Market Regime"}),e.jsx(i,{variant:"secondary",className:"text-xs",children:s.regime})]})]})]},a))})}),e.jsx(u,{value:"forecast",className:"space-y-4",children:c.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(t,{children:e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",((T=(A=c[d-1])==null?void 0:A.predictedPrice)==null?void 0:T.toLocaleString())||"N/A"]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[d,"-Day Target"]})]})})}),e.jsx(t,{children:e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-semibold",children:["$",((F=(D=c[d-1])==null?void 0:D.confidenceLow)==null?void 0:F.toLocaleString())||"N/A"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Support Range"})]})})}),e.jsx(t,{children:e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-semibold",children:["$",(($=(R=c[d-1])==null?void 0:R.confidenceHigh)==null?void 0:$.toLocaleString())||"N/A"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Resistance Range"})]})})}),e.jsx(t,{children:e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-semibold flex items-center justify-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${k((P=c[0])==null?void 0:P.marketRegime)}`}),((G=c[0])==null?void 0:G.marketRegime)||"Unknown"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Market Regime"})]})})})]}),e.jsxs(t,{children:[e.jsx(o,{children:e.jsx(m,{className:"text-lg",children:"Price Forecast Timeline"})}),e.jsx(r,{children:e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:c.slice(0,14).map((s,a)=>{var n,l,H;return e.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(i,{variant:"outline",className:"text-xs",children:["Day ",a+1]}),e.jsx("span",{className:"text-sm",children:new Date(s.date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium",children:["$",(n=s.predictedPrice)==null?void 0:n.toLocaleString()]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["$",(l=s.confidenceLow)==null?void 0:l.toLocaleString()," - $",(H=s.confidenceHigh)==null?void 0:H.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${K(s.cyclePhase)}`}),e.jsx("span",{className:"text-xs",children:s.cyclePhase})]})]})]},a)})})})]})]}):e.jsx(t,{children:e.jsxs(r,{className:"p-8 text-center",children:[e.jsx(Y,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Generate an advanced forecast to view price predictions"})]})})}),e.jsx(u,{value:"analysis",className:"space-y-4",children:b.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.map((s,a)=>e.jsxs(t,{children:[e.jsx(o,{children:e.jsxs(m,{className:"text-sm flex items-center gap-2",children:[w(s.name),s.name]})}),e.jsxs(r,{className:"space-y-3",children:[s.cycles&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Detected Cycles"}),e.jsx("div",{className:"flex gap-1 mt-1",children:s.cycles.map((n,l)=>e.jsxs(i,{variant:"outline",className:"text-xs",children:[n," days"]},l))})]}),s.currentWave&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Elliott Wave Analysis"}),e.jsx("div",{className:"mt-1",children:e.jsxs(i,{variant:"secondary",children:["Wave ",s.currentWave]})})]}),s.patterns&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Harmonic Patterns"}),e.jsx("div",{className:"flex gap-1 mt-1",children:s.patterns.map((n,l)=>e.jsx(i,{variant:"outline",className:"text-xs",children:n},l))})]}),s.regime&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Market Regime"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${k(s.regime)}`}),e.jsx("span",{className:"text-sm",children:s.regime})]})]}),typeof s.strength=="number"&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Signal Strength"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(v,{value:s.strength*100,className:"w-20 h-2"}),e.jsxs("span",{className:"text-xs",children:[(s.strength*100).toFixed(0),"%"]})]})]})]})]},a))}):e.jsx(t,{children:e.jsxs(r,{className:"p-8 text-center",children:[e.jsx(E,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Generate a forecast to view detailed market analysis"})]})})}),e.jsx(u,{value:"levels",className:"space-y-4",children:c.length>0&&((W=c[0])!=null&&W.supportLevels)?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(t,{children:[e.jsx(o,{children:e.jsxs(m,{className:"text-lg flex items-center gap-2",children:[e.jsx(ie,{className:"h-5 w-5 text-green-500"}),"Support Levels"]})}),e.jsx(r,{children:e.jsx("div",{className:"space-y-2",children:(z=c[0].supportLevels)==null?void 0:z.slice(0,5).map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 dark:bg-green-900/20 rounded",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Support ",a+1]}),e.jsxs("span",{className:"font-mono",children:["$",s==null?void 0:s.toLocaleString()]})]},a))})})]}),e.jsxs(t,{children:[e.jsx(o,{children:e.jsxs(m,{className:"text-lg flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5 text-red-500"}),"Resistance Levels"]})}),e.jsx(r,{children:e.jsx("div",{className:"space-y-2",children:(q=c[0].resistanceLevels)==null?void 0:q.slice(0,5).map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-red-50 dark:bg-red-900/20 rounded",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Resistance ",a+1]}),e.jsxs("span",{className:"font-mono",children:["$",s==null?void 0:s.toLocaleString()]})]},a))})})]})]}):e.jsx(t,{children:e.jsxs(r,{className:"p-8 text-center",children:[e.jsx(O,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Generate a forecast to view support and resistance levels"})]})})})]})]})}const ye=Object.freeze(Object.defineProperty({__proto__:null,default:xe},Symbol.toStringTag,{value:"Module"}));export{xe as A,Z as B,ye as a};
//# sourceMappingURL=AdvancedForecastChart-UJjj3Noc.js.map
