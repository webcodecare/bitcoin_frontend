import{j as e}from"./ui-vendor-mfLK6kkQ.js";import{r as B}from"./react-vendor--0RGCJ5T.js";import{S as W}from"./Sidebar-CWwWAgFd.js";import{H as V}from"./Header-CZNG9THd.js";import{d as h,g as Y,j as a,n as t,o as n,U as X,k as i,T as u,B as c}from"./index-DMUxz8dE.js";import{T as Q,a as z,b as j,c as v}from"./tabs-CFs29E2A.js";import{S as Z,a as _,b as P,c as ee,d as se}from"./select-Brp6yn3A.js";import{D as re}from"./download-DAUaHPRv.js";import{D as ae}from"./dollar-sign-BsbVyGJM.js";import{A as K}from"./activity-Dkd0t9nU.js";import{T as te}from"./target-DyLadsKk.js";import{C as ne}from"./chart-line-BqVUJ2DR.js";import{R as p,f as $,d as g,X as f,Y as y,T as N,g as F,B as M,e as D}from"./chart-vendor-CJvGuOij.js";import{C as ie}from"./chart-pie-XpQkuyDJ.js";import"./message-square-DEryHNXU.js";import"./file-text-CVGYDGjh.js";import"./NotificationCenter-CPdR7ta7.js";import"./index-BdQq_4o_.js";import"./volume-2-Cn_3p6P5.js";import"./circle-check-big-DJe8srSt.js";import"./info-KqEO34od.js";import"./index-BBVDPgwe.js";import"./chevron-down-BE_ioXd1.js";function Le(){var S,R,A,C,T,U,k;const[x,G]=B.useState("7d"),[J,le]=B.useState("all"),{data:s,isLoading:m}=h({queryKey:["/api/admin/analytics",x,J],refetchInterval:3e4}),{data:b}=h({queryKey:["/api/admin/analytics/revenue",x]});h({queryKey:["/api/admin/analytics/users",x]});const{data:r}=h({queryKey:["/api/admin/analytics/signals",x]}),d={totalUsers:12847,activeUsers:8934,totalRevenue:284567.89,monthlyRevenue:45892.34,signalAccuracy:78.4,userGrowth:12.5,revenueGrowth:8.3,accuracyChange:2.1},w=[{name:"Jan",users:4e3,revenue:24e3},{name:"Feb",users:3e3,revenue:13980},{name:"Mar",users:2e3,revenue:29800},{name:"Apr",users:2780,revenue:39080},{name:"May",users:1890,revenue:48e3},{name:"Jun",users:2390,revenue:38e3},{name:"Jul",users:3490,revenue:43e3}],O=[{month:"Jan",revenue:24e3},{month:"Feb",revenue:13980},{month:"Mar",revenue:29800},{month:"Apr",revenue:39080},{month:"May",revenue:48e3},{month:"Jun",revenue:38e3},{month:"Jul",revenue:43e3}],E=[{date:"2025-01-01",accuracy:78.5},{date:"2025-01-07",accuracy:82.1},{date:"2025-01-14",accuracy:75.3},{date:"2025-01-21",accuracy:84.7},{date:"2025-01-28",accuracy:79.2},{date:"2025-02-04",accuracy:86.1},{date:"2025-02-11",accuracy:83.4}],I=[{value:"1d",label:"24 Hours"},{value:"7d",label:"7 Days"},{value:"30d",label:"30 Days"},{value:"90d",label:"90 Days"},{value:"1y",label:"1 Year"},{value:"custom",label:"Custom Range"}],q=()=>{const l={period:x,generated:new Date().toISOString(),metrics:d,chartData:w},H=new Blob([JSON.stringify(l,null,2)],{type:"application/json"}),L=URL.createObjectURL(H),o=document.createElement("a");o.href=L,o.download=`analytics-report-${x}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(L)};return e.jsxs("div",{className:"flex h-screen bg-background",children:[e.jsx(W,{}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden ml-0 md:ml-64",children:[e.jsx(V,{title:"Analytics & Reporting",subtitle:"Comprehensive platform analytics and performance metrics",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(Y,{variant:"outline",onClick:q,children:[e.jsx(re,{className:"h-4 w-4 mr-2"}),"Export Report"]}),e.jsxs(Z,{value:x,onValueChange:G,children:[e.jsx(_,{className:"w-40",children:e.jsx(P,{})}),e.jsx(ee,{children:I.map(l=>e.jsx(se,{value:l.value||"default",children:l.label},l.value))})]})]})}),e.jsxs("div",{className:"p-4 lg:p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(a,{children:[e.jsxs(t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Total Users"}),e.jsx(X,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:m?"...":(((S=s==null?void 0:s.overview)==null?void 0:S.totalUsers)||d.totalUsers).toLocaleString()}),e.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[e.jsx(u,{className:"h-3 w-3 mr-1 text-green-500"}),"+",((R=s==null?void 0:s.overview)==null?void 0:R.userGrowth)||d.userGrowth,"% from last period"]})]})]}),e.jsxs(a,{children:[e.jsxs(t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Monthly Revenue"}),e.jsx(ae,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:m?"...":`$${(((A=s==null?void 0:s.overview)==null?void 0:A.monthlyRevenue)||d.monthlyRevenue).toLocaleString()}`}),e.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[e.jsx(u,{className:"h-3 w-3 mr-1 text-green-500"}),"+",((C=s==null?void 0:s.overview)==null?void 0:C.revenueGrowth)||d.revenueGrowth,"% from last month"]})]})]}),e.jsxs(a,{children:[e.jsxs(t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Active Subscriptions"}),e.jsx(K,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:m?"...":(((T=s==null?void 0:s.overview)==null?void 0:T.activeSubscriptions)||892).toLocaleString()}),e.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[e.jsx(u,{className:"h-3 w-3 mr-1 text-green-500"}),"+8.2% from last period"]})]})]}),e.jsxs(a,{children:[e.jsxs(t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Signal Accuracy"}),e.jsx(te,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:m?"...":`${((U=s==null?void 0:s.overview)==null?void 0:U.signalAccuracy)||d.signalAccuracy}%`}),e.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[e.jsx(u,{className:"h-3 w-3 mr-1 text-green-500"}),"+",((k=s==null?void 0:s.overview)==null?void 0:k.accuracyChange)||d.accuracyChange,"% improvement"]})]})]})]}),e.jsxs(Q,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(z,{className:"grid w-full grid-cols-4",children:[e.jsx(j,{value:"overview",children:"Overview"}),e.jsx(j,{value:"users",children:"Users"}),e.jsx(j,{value:"revenue",children:"Revenue"}),e.jsx(j,{value:"signals",children:"Signals"})]}),e.jsxs(v,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(a,{children:[e.jsx(t,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5"}),"User Growth Trends"]})}),e.jsx(i,{children:e.jsx(p,{width:"100%",height:320,children:e.jsxs($,{data:w,children:[e.jsx(g,{strokeDasharray:"3 3"}),e.jsx(f,{dataKey:"name"}),e.jsx(y,{}),e.jsx(N,{}),e.jsx(F,{type:"monotone",dataKey:"users",stroke:"#3B82F6",strokeWidth:2})]})})})]}),e.jsxs(a,{children:[e.jsx(t,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-5 w-5"}),"Revenue Breakdown"]})}),e.jsx(i,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/20 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:"Subscriptions"}),e.jsx(c,{variant:"outline",children:"75.3%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/20 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:"API Access"}),e.jsx(c,{variant:"outline",children:"19.4%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/20 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:"Premium Features"}),e.jsx(c,{variant:"outline",children:"5.3%"})]})]})})]})]}),e.jsxs(a,{children:[e.jsx(t,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(K,{className:"h-5 w-5"}),"Platform Activity Summary"]})}),e.jsx(i,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-muted/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d.activeUsers.toLocaleString()}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Users (30d)"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"89.4%"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"User Retention Rate"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"4.2"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg. Session Duration (hrs)"})]})]})})]})]}),e.jsx(v,{value:"users",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(a,{children:[e.jsx(t,{children:e.jsx(n,{children:"User Registration Trends"})}),e.jsx(i,{children:e.jsx(p,{width:"100%",height:320,children:e.jsxs(M,{data:[{name:"Mon",users:45},{name:"Tue",users:52},{name:"Wed",users:38},{name:"Thu",users:61},{name:"Fri",users:47},{name:"Sat",users:33},{name:"Sun",users:29}],children:[e.jsx(g,{strokeDasharray:"3 3"}),e.jsx(f,{dataKey:"name"}),e.jsx(y,{}),e.jsx(N,{}),e.jsx(D,{dataKey:"users",fill:"#10B981"})]})})})]}),e.jsxs(a,{children:[e.jsx(t,{children:e.jsx(n,{children:"User Engagement Metrics"})}),e.jsx(i,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Daily Active Users"}),e.jsx(c,{variant:"outline",children:"3,247"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Weekly Active Users"}),e.jsx(c,{variant:"outline",children:"8,934"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Monthly Active Users"}),e.jsx(c,{variant:"outline",children:"12,847"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Avg. Session Time"}),e.jsx(c,{variant:"outline",children:"4h 12m"})]})]})})]})]})}),e.jsx(v,{value:"revenue",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(a,{className:"lg:col-span-2",children:[e.jsx(t,{children:e.jsx(n,{children:"Revenue Analytics"})}),e.jsx(i,{children:e.jsx("div",{className:"h-80",children:e.jsx(p,{width:"100%",height:"100%",children:e.jsxs(M,{data:(b==null?void 0:b.monthlyRevenue)||O,children:[e.jsx(g,{strokeDasharray:"3 3"}),e.jsx(f,{dataKey:"month"}),e.jsx(y,{}),e.jsx(N,{formatter:l=>[`$${l==null?void 0:l.toLocaleString()}`,"Revenue"]}),e.jsx(D,{dataKey:"revenue",fill:"#3B82F6"})]})})})})]}),e.jsxs(a,{children:[e.jsx(t,{children:e.jsx(n,{children:"Revenue Sources"})}),e.jsx(i,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Subscriptions"}),e.jsx("span",{className:"font-medium",children:"$34,567"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Trading Fees"}),e.jsx("span",{className:"font-medium",children:"$8,923"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Premium Features"}),e.jsx("span",{className:"font-medium",children:"$2,402"})]}),e.jsx("div",{className:"border-t pt-4",children:e.jsxs("div",{className:"flex justify-between items-center font-bold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$",d.monthlyRevenue.toLocaleString()]})]})})]})})]})]})}),e.jsx(v,{value:"signals",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(a,{children:[e.jsx(t,{children:e.jsx(n,{children:"Signal Performance"})}),e.jsx(i,{children:e.jsx("div",{className:"h-80",children:e.jsx(p,{width:"100%",height:"100%",children:e.jsxs($,{data:(r==null?void 0:r.accuracyData)||E,children:[e.jsx(g,{strokeDasharray:"3 3"}),e.jsx(f,{dataKey:"date"}),e.jsx(y,{domain:[0,100]}),e.jsx(N,{formatter:l=>[`${l}%`,"Accuracy"]}),e.jsx(F,{type:"monotone",dataKey:"accuracy",stroke:"#8B5CF6",strokeWidth:2})]})})})})]}),e.jsxs(a,{children:[e.jsx(t,{children:e.jsx(n,{children:"Signal Statistics"})}),e.jsx(i,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Total Signals"}),e.jsx(c,{variant:"outline",children:(r==null?void 0:r.totalSignals)||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Successful Signals"}),e.jsx(c,{variant:"outline",className:"text-green-600",children:(r==null?void 0:r.successfulSignals)||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Failed Signals"}),e.jsx(c,{variant:"outline",className:"text-red-600",children:(r==null?void 0:r.failedSignals)||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Accuracy Rate"}),e.jsxs(c,{variant:"outline",children:[(r==null?void 0:r.accuracy)||0,"%"]})]})]})})]})]})})]})]})]})]})}export{Le as default};
//# sourceMappingURL=analytics-B9iZfnJC.js.map
