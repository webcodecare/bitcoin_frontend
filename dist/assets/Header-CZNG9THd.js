import{a as q,J as R,j as e,K as A,u as b,P as O,f as h,d as _,M as K,Q as G,N as Q,U as W,W as Z,X as J,Y as V,b as X,Z as Y,H as ee,g as oe,_ as te}from"./ui-vendor-mfLK6kkQ.js";import{c as k,ai as re,d as se,g as M,w as ne,B as ae,u as ie,a2 as ce,a3 as le,a4 as de,a5 as w,a6 as P,L as C,Q as pe,ad as ue,a7 as fe}from"./index-DMUxz8dE.js";import{r as l}from"./react-vendor--0RGCJ5T.js";import{N as xe}from"./NotificationCenter-CPdR7ta7.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=k("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=k("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);var y="Popover",[E,Te]=q(y,[R]),m=R(),[ve,u]=E(y),S=o=>{const{__scopePopover:a,children:n,open:t,defaultOpen:r,onOpenChange:s,modal:i=!1}=o,c=m(a),d=l.useRef(null),[p,v]=l.useState(!1),[g=!1,f]=X({prop:t,defaultProp:r,onChange:s});return e.jsx(Y,{...c,children:e.jsx(ve,{scope:a,contentId:ee(),triggerRef:d,open:g,onOpenChange:f,onOpenToggle:l.useCallback(()=>f(j=>!j),[f]),hasCustomAnchor:p,onCustomAnchorAdd:l.useCallback(()=>v(!0),[]),onCustomAnchorRemove:l.useCallback(()=>v(!1),[]),modal:i,children:n})})};S.displayName=y;var D="PopoverAnchor",ge=l.forwardRef((o,a)=>{const{__scopePopover:n,...t}=o,r=u(D,n),s=m(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:c}=r;return l.useEffect(()=>(i(),()=>c()),[i,c]),e.jsx(A,{...s,...t,ref:a})});ge.displayName=D;var F="PopoverTrigger",I=l.forwardRef((o,a)=>{const{__scopePopover:n,...t}=o,r=u(F,n),s=m(n),i=b(a,r.triggerRef),c=e.jsx(O.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":B(r.open),...t,ref:i,onClick:h(o.onClick,r.onOpenToggle)});return r.hasCustomAnchor?c:e.jsx(A,{asChild:!0,...s,children:c})});I.displayName=F;var N="PopoverPortal",[Pe,je]=E(N,{forceMount:void 0}),T=o=>{const{__scopePopover:a,forceMount:n,children:t,container:r}=o,s=u(N,a);return e.jsx(Pe,{scope:a,forceMount:n,children:e.jsx(_,{present:n||s.open,children:e.jsx(oe,{asChild:!0,container:r,children:t})})})};T.displayName=N;var x="PopoverContent",H=l.forwardRef((o,a)=>{const n=je(x,o.__scopePopover),{forceMount:t=n.forceMount,...r}=o,s=u(x,o.__scopePopover);return e.jsx(_,{present:t||s.open,children:s.modal?e.jsx(ye,{...r,ref:a}):e.jsx(Ne,{...r,ref:a})})});H.displayName=x;var Ce=te("PopoverContent.RemoveScroll"),ye=l.forwardRef((o,a)=>{const n=u(x,o.__scopePopover),t=l.useRef(null),r=b(a,t),s=l.useRef(!1);return l.useEffect(()=>{const i=t.current;if(i)return K(i)},[]),e.jsx(G,{as:Ce,allowPinchZoom:!0,children:e.jsx(L,{...o,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:h(o.onCloseAutoFocus,i=>{var c;i.preventDefault(),s.current||(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:h(o.onPointerDownOutside,i=>{const c=i.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,p=c.button===2||d;s.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:h(o.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ne=l.forwardRef((o,a)=>{const n=u(x,o.__scopePopover),t=l.useRef(!1),r=l.useRef(!1);return e.jsx(L,{...o,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,c;(i=o.onCloseAutoFocus)==null||i.call(o,s),s.defaultPrevented||(t.current||(c=n.triggerRef.current)==null||c.focus(),s.preventDefault()),t.current=!1,r.current=!1},onInteractOutside:s=>{var d,p;(d=o.onInteractOutside)==null||d.call(o,s),s.defaultPrevented||(t.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const i=s.target;((p=n.triggerRef.current)==null?void 0:p.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),L=l.forwardRef((o,a)=>{const{__scopePopover:n,trapFocus:t,onOpenAutoFocus:r,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:p,onInteractOutside:v,...g}=o,f=u(x,n),j=m(n);return Q(),e.jsx(W,{asChild:!0,loop:!0,trapped:t,onMountAutoFocus:r,onUnmountAutoFocus:s,children:e.jsx(Z,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:v,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:p,onDismiss:()=>f.onOpenChange(!1),children:e.jsx(J,{"data-state":B(f.open),role:"dialog",id:f.contentId,...j,...g,ref:a,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),$="PopoverClose",we=l.forwardRef((o,a)=>{const{__scopePopover:n,...t}=o,r=u($,n);return e.jsx(O.button,{type:"button",...t,ref:a,onClick:h(o.onClick,()=>r.onOpenChange(!1))})});we.displayName=$;var Re="PopoverArrow",Ae=l.forwardRef((o,a)=>{const{__scopePopover:n,...t}=o,r=m(n);return e.jsx(V,{...r,...t,ref:a})});Ae.displayName=Re;function B(o){return o?"open":"closed"}var be=S,Oe=I,_e=T,z=H;const ke=be,Me=Oe,U=l.forwardRef(({className:o,align:a="center",sideOffset:n=4,...t},r)=>e.jsx(_e,{children:e.jsx(z,{ref:r,align:a,sideOffset:n,className:re("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",o),...t})}));U.displayName=z.displayName;function Ee({className:o}){const[a,n]=l.useState(!1),{data:t=[]}=se({queryKey:["/api/notifications"],refetchInterval:3e4}),r=t.filter(s=>!s.isRead&&!s.isArchived).length;return e.jsxs(ke,{open:a,onOpenChange:n,children:[e.jsx(Me,{asChild:!0,children:e.jsxs(M,{variant:"ghost",size:"sm",className:`relative ${o}`,"aria-label":`Notifications ${r>0?`(${r} unread)`:""}`,children:[r>0?e.jsx(he,{className:"h-5 w-5"}):e.jsx(ne,{className:"h-5 w-5"}),r>0&&e.jsx(ae,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 flex items-center justify-center text-xs p-0 min-w-[20px]",children:r>99?"99+":r})]})}),e.jsx(U,{className:"w-96 p-0",align:"end",sideOffset:5,children:e.jsx(xe,{isCompact:!0})})]})}function He({title:o,subtitle:a,children:n}){var s,i,c;const{user:t,logout:r}=ie();return e.jsx("header",{className:"bg-card border-b border-border p-4 lg:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("h1",{className:"text-xl lg:text-2xl font-bold",children:o}),a&&e.jsx("p",{className:"text-sm lg:text-base text-muted-foreground",children:a})]}),e.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[n,e.jsx(Ee,{}),e.jsxs(ce,{children:[e.jsx(le,{asChild:!0,children:e.jsx(M,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:e.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-primary-foreground font-semibold",children:((s=t==null?void 0:t.firstName)==null?void 0:s[0])||((c=(i=t==null?void 0:t.email)==null?void 0:i[0])==null?void 0:c.toUpperCase())||"U"})})}),e.jsxs(de,{className:"w-56",align:"end",forceMount:!0,children:[e.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:e.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[e.jsx("p",{className:"font-medium",children:(t==null?void 0:t.firstName)||"User"}),e.jsx("p",{className:"w-[200px] truncate text-sm text-muted-foreground",children:t==null?void 0:t.email})]})}),e.jsx(w,{}),e.jsx(P,{asChild:!0,children:e.jsxs(C,{href:"/settings",className:"flex items-center",children:[e.jsx(pe,{className:"mr-2 h-4 w-4"}),"Settings"]})}),e.jsx(P,{asChild:!0,children:e.jsxs(C,{href:"/preferences",className:"flex items-center",children:[e.jsx(me,{className:"mr-2 h-4 w-4"}),"Preferences"]})}),e.jsx(P,{asChild:!0,children:e.jsxs(C,{href:"/advanced-alerts",className:"flex items-center",children:[e.jsx(ue,{className:"mr-2 h-4 w-4"}),"Advanced Alerts"]})}),e.jsx(w,{}),e.jsxs(P,{onClick:r,className:"text-destructive",children:[e.jsx(fe,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]})]})})}export{He as H};
//# sourceMappingURL=Header-CZNG9THd.js.map
