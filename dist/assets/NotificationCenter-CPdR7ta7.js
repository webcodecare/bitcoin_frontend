var Ae=Object.defineProperty;var Pe=(t,r,s)=>r in t?Ae(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s;var A=(t,r,s)=>Pe(t,typeof r!="symbol"?r+"":r,s);import{a as Re,u as D,G as Ee,j as e,P as z,d as Y,f as T,e as E,h as Te}from"./ui-vendor-mfLK6kkQ.js";import{r as a}from"./react-vendor--0RGCJ5T.js";import{c as J,ai as ue,b as ke,a as Le,d as De,e as q,j as re,n as se,o as ne,w as V,B as H,g as $,k as oe,ae as le,a2 as _e,a3 as He,a4 as Me,a6 as ae,Q as We,T as ze,f as Q}from"./index-DMUxz8dE.js";import{c as Oe}from"./index-BdQq_4o_.js";import{T as Ie,a as Ve,b as M,c as $e}from"./tabs-CFs29E2A.js";import{V as ce}from"./volume-2-Cn_3p6P5.js";import{C as Xe}from"./circle-check-big-DJe8srSt.js";import{I as Be}from"./info-KqEO34od.js";import{D as Ye}from"./dollar-sign-BsbVyGJM.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=J("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=J("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=J("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);function qe(t,r){return a.useReducer((s,o)=>r[s][o]??s,t)}var G="ScrollArea",[he,vt]=Re(G),[Qe,y]=he(G),me=a.forwardRef((t,r)=>{const{__scopeScrollArea:s,type:o="hover",dir:n,scrollHideDelay:l=600,...c}=t,[i,u]=a.useState(null),[f,h]=a.useState(null),[p,m]=a.useState(null),[b,v]=a.useState(null),[P,_]=a.useState(null),[S,N]=a.useState(0),[d,w]=a.useState(0),[x,R]=a.useState(!1),[O,I]=a.useState(!1),g=D(r,k=>u(k)),j=Ee(n);return e.jsx(Qe,{scope:s,type:o,dir:j,scrollHideDelay:l,scrollArea:i,viewport:f,onViewportChange:h,content:p,onContentChange:m,scrollbarX:b,onScrollbarXChange:v,scrollbarXEnabled:x,onScrollbarXEnabledChange:R,scrollbarY:P,onScrollbarYChange:_,scrollbarYEnabled:O,onScrollbarYEnabledChange:I,onCornerWidthChange:N,onCornerHeightChange:w,children:e.jsx(z.div,{dir:j,...c,ref:g,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":d+"px",...t.style}})})});me.displayName=G;var fe="ScrollAreaViewport",pe=a.forwardRef((t,r)=>{const{__scopeScrollArea:s,children:o,nonce:n,...l}=t,c=y(fe,s),i=a.useRef(null),u=D(r,i,c.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(z.div,{"data-radix-scroll-area-viewport":"",...l,ref:u,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});pe.displayName=fe;var C="ScrollAreaScrollbar",Z=a.forwardRef((t,r)=>{const{forceMount:s,...o}=t,n=y(C,t.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:c}=n,i=t.orientation==="horizontal";return a.useEffect(()=>(i?l(!0):c(!0),()=>{i?l(!1):c(!1)}),[i,l,c]),n.type==="hover"?e.jsx(Ke,{...o,ref:r,forceMount:s}):n.type==="scroll"?e.jsx(Je,{...o,ref:r,forceMount:s}):n.type==="auto"?e.jsx(xe,{...o,ref:r,forceMount:s}):n.type==="always"?e.jsx(ee,{...o,ref:r}):null});Z.displayName=C;var Ke=a.forwardRef((t,r)=>{const{forceMount:s,...o}=t,n=y(C,t.__scopeScrollArea),[l,c]=a.useState(!1);return a.useEffect(()=>{const i=n.scrollArea;let u=0;if(i){const f=()=>{window.clearTimeout(u),c(!0)},h=()=>{u=window.setTimeout(()=>c(!1),n.scrollHideDelay)};return i.addEventListener("pointerenter",f),i.addEventListener("pointerleave",h),()=>{window.clearTimeout(u),i.removeEventListener("pointerenter",f),i.removeEventListener("pointerleave",h)}}},[n.scrollArea,n.scrollHideDelay]),e.jsx(Y,{present:s||l,children:e.jsx(xe,{"data-state":l?"visible":"hidden",...o,ref:r})})}),Je=a.forwardRef((t,r)=>{const{forceMount:s,...o}=t,n=y(C,t.__scopeScrollArea),l=t.orientation==="horizontal",c=F(()=>u("SCROLL_END"),100),[i,u]=qe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return a.useEffect(()=>{if(i==="idle"){const f=window.setTimeout(()=>u("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(f)}},[i,n.scrollHideDelay,u]),a.useEffect(()=>{const f=n.viewport,h=l?"scrollLeft":"scrollTop";if(f){let p=f[h];const m=()=>{const b=f[h];p!==b&&(u("SCROLL"),c()),p=b};return f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[n.viewport,l,u,c]),e.jsx(Y,{present:s||i!=="hidden",children:e.jsx(ee,{"data-state":i==="hidden"?"hidden":"visible",...o,ref:r,onPointerEnter:T(t.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:T(t.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),xe=a.forwardRef((t,r)=>{const s=y(C,t.__scopeScrollArea),{forceMount:o,...n}=t,[l,c]=a.useState(!1),i=t.orientation==="horizontal",u=F(()=>{if(s.viewport){const f=s.viewport.offsetWidth<s.viewport.scrollWidth,h=s.viewport.offsetHeight<s.viewport.scrollHeight;c(i?f:h)}},10);return L(s.viewport,u),L(s.content,u),e.jsx(Y,{present:o||l,children:e.jsx(ee,{"data-state":l?"visible":"hidden",...n,ref:r})})}),ee=a.forwardRef((t,r)=>{const{orientation:s="vertical",...o}=t,n=y(C,t.__scopeScrollArea),l=a.useRef(null),c=a.useRef(0),[i,u]=a.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=Se(i.viewport,i.content),h={...o,sizes:i,onSizesChange:u,hasThumb:f>0&&f<1,onThumbChange:m=>l.current=m,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:m=>c.current=m};function p(m,b){return st(m,c.current,i,b)}return s==="horizontal"?e.jsx(Ge,{...h,ref:r,onThumbPositionChange:()=>{if(n.viewport&&l.current){const m=n.viewport.scrollLeft,b=de(m,i,n.dir);l.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:m=>{n.viewport&&(n.viewport.scrollLeft=m)},onDragScroll:m=>{n.viewport&&(n.viewport.scrollLeft=p(m,n.dir))}}):s==="vertical"?e.jsx(Ze,{...h,ref:r,onThumbPositionChange:()=>{if(n.viewport&&l.current){const m=n.viewport.scrollTop,b=de(m,i);l.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:m=>{n.viewport&&(n.viewport.scrollTop=m)},onDragScroll:m=>{n.viewport&&(n.viewport.scrollTop=p(m))}}):null}),Ge=a.forwardRef((t,r)=>{const{sizes:s,onSizesChange:o,...n}=t,l=y(C,t.__scopeScrollArea),[c,i]=a.useState(),u=a.useRef(null),f=D(r,u,l.onScrollbarXChange);return a.useEffect(()=>{u.current&&i(getComputedStyle(u.current))},[u]),e.jsx(ge,{"data-orientation":"horizontal",...n,ref:f,sizes:s,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":U(s)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,p)=>{if(l.viewport){const m=l.viewport.scrollLeft+h.deltaX;t.onWheelScroll(m),je(m,p)&&h.preventDefault()}},onResize:()=>{u.current&&l.viewport&&c&&o({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:B(c.paddingLeft),paddingEnd:B(c.paddingRight)}})}})}),Ze=a.forwardRef((t,r)=>{const{sizes:s,onSizesChange:o,...n}=t,l=y(C,t.__scopeScrollArea),[c,i]=a.useState(),u=a.useRef(null),f=D(r,u,l.onScrollbarYChange);return a.useEffect(()=>{u.current&&i(getComputedStyle(u.current))},[u]),e.jsx(ge,{"data-orientation":"vertical",...n,ref:f,sizes:s,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":U(s)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,p)=>{if(l.viewport){const m=l.viewport.scrollTop+h.deltaY;t.onWheelScroll(m),je(m,p)&&h.preventDefault()}},onResize:()=>{u.current&&l.viewport&&c&&o({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:B(c.paddingTop),paddingEnd:B(c.paddingBottom)}})}})}),[et,be]=he(C),ge=a.forwardRef((t,r)=>{const{__scopeScrollArea:s,sizes:o,hasThumb:n,onThumbChange:l,onThumbPointerUp:c,onThumbPointerDown:i,onThumbPositionChange:u,onDragScroll:f,onWheelScroll:h,onResize:p,...m}=t,b=y(C,s),[v,P]=a.useState(null),_=D(r,g=>P(g)),S=a.useRef(null),N=a.useRef(""),d=b.viewport,w=o.content-o.viewport,x=E(h),R=E(u),O=F(p,10);function I(g){if(S.current){const j=g.clientX-S.current.left,k=g.clientY-S.current.top;f({x:j,y:k})}}return a.useEffect(()=>{const g=j=>{const k=j.target;(v==null?void 0:v.contains(k))&&x(j,w)};return document.addEventListener("wheel",g,{passive:!1}),()=>document.removeEventListener("wheel",g,{passive:!1})},[d,v,w,x]),a.useEffect(R,[o,R]),L(v,O),L(b.content,O),e.jsx(et,{scope:s,scrollbar:v,hasThumb:n,onThumbChange:E(l),onThumbPointerUp:E(c),onThumbPositionChange:R,onThumbPointerDown:E(i),children:e.jsx(z.div,{...m,ref:_,style:{position:"absolute",...m.style},onPointerDown:T(t.onPointerDown,g=>{g.button===0&&(g.target.setPointerCapture(g.pointerId),S.current=v.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),I(g))}),onPointerMove:T(t.onPointerMove,I),onPointerUp:T(t.onPointerUp,g=>{const j=g.target;j.hasPointerCapture(g.pointerId)&&j.releasePointerCapture(g.pointerId),document.body.style.webkitUserSelect=N.current,b.viewport&&(b.viewport.style.scrollBehavior=""),S.current=null})})})}),X="ScrollAreaThumb",we=a.forwardRef((t,r)=>{const{forceMount:s,...o}=t,n=be(X,t.__scopeScrollArea);return e.jsx(Y,{present:s||n.hasThumb,children:e.jsx(tt,{ref:r,...o})})}),tt=a.forwardRef((t,r)=>{const{__scopeScrollArea:s,style:o,...n}=t,l=y(X,s),c=be(X,s),{onThumbPositionChange:i}=c,u=D(r,p=>c.onThumbChange(p)),f=a.useRef(void 0),h=F(()=>{f.current&&(f.current(),f.current=void 0)},100);return a.useEffect(()=>{const p=l.viewport;if(p){const m=()=>{if(h(),!f.current){const b=nt(p,i);f.current=b,i()}};return i(),p.addEventListener("scroll",m),()=>p.removeEventListener("scroll",m)}},[l.viewport,h,i]),e.jsx(z.div,{"data-state":c.hasThumb?"visible":"hidden",...n,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:T(t.onPointerDownCapture,p=>{const b=p.target.getBoundingClientRect(),v=p.clientX-b.left,P=p.clientY-b.top;c.onThumbPointerDown({x:v,y:P})}),onPointerUp:T(t.onPointerUp,c.onThumbPointerUp)})});we.displayName=X;var te="ScrollAreaCorner",ve=a.forwardRef((t,r)=>{const s=y(te,t.__scopeScrollArea),o=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&o?e.jsx(rt,{...t,ref:r}):null});ve.displayName=te;var rt=a.forwardRef((t,r)=>{const{__scopeScrollArea:s,...o}=t,n=y(te,s),[l,c]=a.useState(0),[i,u]=a.useState(0),f=!!(l&&i);return L(n.scrollbarX,()=>{var p;const h=((p=n.scrollbarX)==null?void 0:p.offsetHeight)||0;n.onCornerHeightChange(h),u(h)}),L(n.scrollbarY,()=>{var p;const h=((p=n.scrollbarY)==null?void 0:p.offsetWidth)||0;n.onCornerWidthChange(h),c(h)}),f?e.jsx(z.div,{...o,ref:r,style:{width:l,height:i,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function B(t){return t?parseInt(t,10):0}function Se(t,r){const s=t/r;return isNaN(s)?0:s}function U(t){const r=Se(t.viewport,t.content),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=(t.scrollbar.size-s)*r;return Math.max(o,18)}function st(t,r,s,o="ltr"){const n=U(s),l=n/2,c=r||l,i=n-c,u=s.scrollbar.paddingStart+c,f=s.scrollbar.size-s.scrollbar.paddingEnd-i,h=s.content-s.viewport,p=o==="ltr"?[0,h]:[h*-1,0];return ye([u,f],p)(t)}function de(t,r,s="ltr"){const o=U(r),n=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,l=r.scrollbar.size-n,c=r.content-r.viewport,i=l-o,u=s==="ltr"?[0,c]:[c*-1,0],f=Oe(t,u);return ye([0,c],[0,i])(f)}function ye(t,r){return s=>{if(t[0]===t[1]||r[0]===r[1])return r[0];const o=(r[1]-r[0])/(t[1]-t[0]);return r[0]+o*(s-t[0])}}function je(t,r){return t>0&&t<r}var nt=(t,r=()=>{})=>{let s={left:t.scrollLeft,top:t.scrollTop},o=0;return function n(){const l={left:t.scrollLeft,top:t.scrollTop},c=s.left!==l.left,i=s.top!==l.top;(c||i)&&r(),s=l,o=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(o)};function F(t,r){const s=E(t),o=a.useRef(0);return a.useEffect(()=>()=>window.clearTimeout(o.current),[]),a.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(s,r)},[s,r])}function L(t,r){const s=E(r);Te(()=>{let o=0;if(t){const n=new ResizeObserver(()=>{cancelAnimationFrame(o),o=window.requestAnimationFrame(s)});return n.observe(t),()=>{window.cancelAnimationFrame(o),n.unobserve(t)}}},[t,s])}var Ce=me,ot=pe,lt=ve;const K=a.forwardRef(({className:t,children:r,...s},o)=>e.jsxs(Ce,{ref:o,className:ue("relative overflow-hidden",t),...s,children:[e.jsx(ot,{className:"h-full w-full rounded-[inherit]",children:r}),e.jsx(Ne,{}),e.jsx(lt,{})]}));K.displayName=Ce.displayName;const Ne=a.forwardRef(({className:t,orientation:r="vertical",...s},o)=>e.jsx(Z,{ref:o,orientation:r,className:ue("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...s,children:e.jsx(we,{className:"relative flex-1 rounded-full bg-border"})}));Ne.displayName=Z.displayName;class at{constructor(){A(this,"ws",null);A(this,"url");A(this,"messageHandlers",new Set);A(this,"reconnectAttempts",0);A(this,"maxReconnectAttempts",5);A(this,"reconnectDelay",1e3);A(this,"isConnecting",!1);const r=window.location.protocol==="https:"?"wss:":"ws:",s=window.location.port||(r==="wss:"?"443":"80");this.url=`${r}//${window.location.hostname}:${s}/ws`}connect(){return new Promise((r,s)=>{var o;if(((o=this.ws)==null?void 0:o.readyState)===WebSocket.OPEN||this.isConnecting){r();return}this.isConnecting=!0;try{if(!this.url||this.url.includes("undefined")){console.warn("Invalid WebSocket URL, skipping connection"),this.isConnecting=!1,r();return}this.ws=new WebSocket(this.url),this.ws.onopen=()=>{console.log("WebSocket connected"),this.isConnecting=!1,this.reconnectAttempts=0,r()},this.ws.onmessage=n=>{try{const l=JSON.parse(n.data);this.messageHandlers.forEach(c=>c(l))}catch(l){console.error("Failed to parse WebSocket message:",l)}},this.ws.onclose=n=>{console.log("WebSocket disconnected:",n.code,n.reason),this.isConnecting=!1,n.code!==1e3&&this.scheduleReconnect()},this.ws.onerror=n=>{console.warn("WebSocket connection failed, continuing without real-time features"),this.isConnecting=!1,r()}}catch{console.warn("WebSocket initialization failed, continuing without real-time features"),this.isConnecting=!1,r()}})}disconnect(){this.ws&&(this.ws.close(),this.ws=null)}addMessageHandler(r){this.messageHandlers.add(r)}removeMessageHandler(r){this.messageHandlers.delete(r)}send(r){var s;return((s=this.ws)==null?void 0:s.readyState)===WebSocket.OPEN?(this.ws.send(JSON.stringify(r)),!0):!1}scheduleReconnect(){if(this.reconnectAttempts<this.maxReconnectAttempts){this.reconnectAttempts++;const r=this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1);console.log(`Reconnecting in ${r}ms (attempt ${this.reconnectAttempts})`),setTimeout(()=>{this.connect().catch(s=>{console.error("Reconnection failed:",s)})},r)}else console.error("Max reconnection attempts reached")}get isConnected(){var r;return((r=this.ws)==null?void 0:r.readyState)===WebSocket.OPEN}}const W=new at;function ct(t){const r=a.useRef(t);return r.current=t,a.useEffect(()=>{const o=n=>{r.current&&r.current(n)};return W.connect().catch(n=>{console.warn("WebSocket connection unavailable, real-time features disabled")}),r.current&&W.addMessageHandler(o),()=>{r.current&&W.removeMessageHandler(o)}},[]),{sendMessage:a.useCallback(o=>W.send(o),[]),isConnected:W.isConnected}}function St({className:t,isCompact:r=!1}){const[s,o]=a.useState("all"),[n,l]=a.useState(!0),{toast:c}=ke(),i=Le(),{data:u=[],isLoading:f}=De({queryKey:["/api/notifications"],refetchInterval:3e4}),{isConnected:h}=ct("ws://localhost:3000/ws"),p=q({mutationFn:async d=>Q("PATCH",`/api/notifications/${d}/read`),onSuccess:()=>{i.invalidateQueries({queryKey:["/api/notifications"]})}}),m=q({mutationFn:async d=>Q("PATCH",`/api/notifications/${d}/archive`),onSuccess:()=>{i.invalidateQueries({queryKey:["/api/notifications"]})}}),b=q({mutationFn:async()=>Q("PATCH","/api/notifications/mark-all-read"),onSuccess:()=>{i.invalidateQueries({queryKey:["/api/notifications"]}),c({title:"All notifications marked as read",description:"Your notification center has been updated"})}}),v=(d,w)=>{const x=w==="critical"?"text-red-500":w==="high"?"text-orange-500":w==="medium"?"text-blue-500":"text-gray-500";switch(d){case"signal":return e.jsx(ze,{className:`h-4 w-4 ${x}`});case"price":return e.jsx(Ye,{className:`h-4 w-4 ${x}`});case"news":return e.jsx(Be,{className:`h-4 w-4 ${x}`});case"system":return e.jsx(We,{className:`h-4 w-4 ${x}`});case"achievement":return e.jsx(Xe,{className:`h-4 w-4 ${x}`});default:return e.jsx(V,{className:`h-4 w-4 ${x}`})}},P=d=>{switch(d){case"critical":return e.jsx(H,{variant:"destructive",className:"text-xs",children:"Critical"});case"high":return e.jsx(H,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:"High"});case"medium":return e.jsx(H,{variant:"outline",className:"text-xs",children:"Medium"});default:return null}},_=d=>{let w=d;switch(s){case"unread":w=d.filter(x=>!x.isRead&&!x.isArchived);break;case"signals":w=d.filter(x=>x.type==="signal"&&!x.isArchived);break;case"price":w=d.filter(x=>x.type==="price"&&!x.isArchived);break;case"archived":w=d.filter(x=>x.isArchived);break;default:w=d.filter(x=>!x.isArchived)}return w.sort((x,R)=>new Date(R.timestamp).getTime()-new Date(x.timestamp).getTime())},S=u.filter(d=>!d.isRead&&!d.isArchived).length,N=_(u);return r?e.jsxs(re,{className:t,children:[e.jsx(se,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ne,{className:"text-lg flex items-center gap-2",children:[e.jsx(V,{className:"h-5 w-5"}),"Notifications",S>0&&e.jsx(H,{variant:"destructive",className:"text-xs",children:S})]}),e.jsx($,{variant:"ghost",size:"sm",onClick:()=>l(!n),children:n?e.jsx(ce,{className:"h-4 w-4"}):e.jsx(ie,{className:"h-4 w-4"})})]})}),e.jsx(oe,{children:e.jsx(K,{className:"h-64",children:N.slice(0,5).map(d=>e.jsxs("div",{className:`flex items-start gap-3 p-2 rounded-lg cursor-pointer hover:bg-muted/50 ${d.isRead?"":"bg-blue-50 dark:bg-blue-950/20"}`,onClick:()=>p.mutate(d.id),children:[v(d.type,d.priority),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:d.title}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(d.timestamp).toLocaleTimeString()})]})]},d.id))})})]}):e.jsxs(re,{className:t,children:[e.jsxs(se,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ne,{className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-5 w-5"}),"Notification Center",S>0&&e.jsxs(H,{variant:"destructive",className:"text-xs",children:[S," unread"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{variant:"ghost",size:"sm",onClick:()=>l(!n),title:n?"Disable sound":"Enable sound",children:n?e.jsx(ce,{className:"h-4 w-4"}):e.jsx(ie,{className:"h-4 w-4"})}),e.jsxs($,{variant:"outline",size:"sm",onClick:()=>b.mutate(),disabled:S===0,children:[e.jsx(le,{className:"h-4 w-4 mr-1"}),"Mark All Read"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsxs("div",{className:`flex items-center gap-1 ${h?"text-green-600":"text-red-600"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${h?"bg-green-500":"bg-red-500"}`}),h?"Connected":"Disconnected"]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"Real-time updates"})]})]}),e.jsx(oe,{children:e.jsxs(Ie,{value:s,onValueChange:o,className:"w-full",children:[e.jsxs(Ve,{className:"grid w-full grid-cols-5",children:[e.jsx(M,{value:"all",children:"All"}),e.jsxs(M,{value:"unread",children:["Unread ",S>0&&`(${S})`]}),e.jsx(M,{value:"signals",children:"Signals"}),e.jsx(M,{value:"price",children:"Price"}),e.jsx(M,{value:"archived",children:"Archived"})]}),e.jsx($e,{value:s,className:"mt-4",children:e.jsx(K,{className:"h-96",children:f?e.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((d,w)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border animate-pulse",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},w))}):N.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(V,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No notifications to display"})]}):e.jsx("div",{className:"space-y-2",children:N.map(d=>e.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg border hover:bg-muted/50 transition-colors ${d.isRead?"":"bg-blue-50 dark:bg-blue-950/20 border-blue-200 dark:border-blue-800"}`,children:[v(d.type,d.priority),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[e.jsx("p",{className:"font-medium text-sm",children:d.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[P(d.priority),e.jsxs(_e,{children:[e.jsx(He,{asChild:!0,children:e.jsx($,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:e.jsx(Fe,{className:"h-3 w-3"})})}),e.jsxs(Me,{align:"end",children:[!d.isRead&&e.jsxs(ae,{onClick:()=>p.mutate(d.id),children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Mark as read"]}),e.jsxs(ae,{onClick:()=>m.mutate(d.id),children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Archive"]})]})]})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:d.message}),d.metadata&&e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[d.metadata.symbol&&e.jsx("span",{className:"font-mono",children:d.metadata.symbol}),d.metadata.price&&e.jsxs("span",{children:["$",d.metadata.price.toLocaleString()]}),d.metadata.change&&e.jsxs("span",{className:d.metadata.change>=0?"text-green-600":"text-red-600",children:[d.metadata.change>=0?"+":"",d.metadata.change.toFixed(2),"%"]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:new Date(d.timestamp).toLocaleString()})]})]},d.id))})})})]})})]})}export{St as N,ie as V,ct as u};
//# sourceMappingURL=NotificationCenter-CPdR7ta7.js.map
