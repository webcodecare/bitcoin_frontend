import{j as e}from"./ui-vendor-mfLK6kkQ.js";import{r as l}from"./react-vendor--0RGCJ5T.js";import{c as S,d as x,g as j,aj as $,j as o,k as h,n as B,o as D,ad as y,T as L,s as M,B as V,f as g}from"./index-DMUxz8dE.js";import{H as E}from"./Header-CZNG9THd.js";import{S as I}from"./SubscriptionGuard-BSUQsUEM.js";import{S as b,a as v,b as N,c as f,d as w}from"./select-Brp6yn3A.js";import"./chart-vendor-CJvGuOij.js";import"./NotificationCenter-CPdR7ta7.js";import"./index-BdQq_4o_.js";import"./tabs-CFs29E2A.js";import"./volume-2-Cn_3p6P5.js";import"./circle-check-big-DJe8srSt.js";import"./info-KqEO34od.js";import"./dollar-sign-BsbVyGJM.js";import"./index-BBVDPgwe.js";import"./chevron-down-BE_ioXd1.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=S("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=S("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);function le(){const[t,T]=l.useState("BTCUSDT"),[i,C]=l.useState("30M"),[a,u]=l.useState(!1),[p,k]=l.useState(1e4),[P,H]=l.useState([]),q=[{value:"30M",label:"30 Minutes"},{value:"1H",label:"1 Hour"},{value:"4H",label:"4 Hours"},{value:"8H",label:"8 Hours"},{value:"12H",label:"12 Hours"},{value:"1D",label:"1 Day"},{value:"1W",label:"1 Week"},{value:"1M",label:"1 Month"}],{data:c}=x({queryKey:["/api/tickers"],queryFn:async()=>(await g("GET","/api/tickers")).json()}),{data:n,refetch:U}=x({queryKey:["/api/market/price",t],queryFn:async()=>(await(await g("GET",`/api/market/price/${t}`)).json()).price,refetchInterval:a?5e3:!1}),{data:d}=x({queryKey:["/api/signals",t],queryFn:async()=>(await g("GET",`/api/signals/${t}?timeframe=${i}`)).json(),refetchInterval:a?1e4:!1}),F=()=>{u(!1),k(1e4),H([])};P.reduce((s,r)=>s+r.pnl,0);const m=(p-1e4)/1e4*100;return e.jsx("div",{className:"min-h-screen bg-gray-900",children:e.jsxs("div",{className:"w-full",children:[e.jsx(E,{}),e.jsx("div",{className:"p-3 sm:p-6 space-y-4 sm:space-y-6",children:e.jsxs(I,{feature:"tradingPlayground",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Trading Playground"}),e.jsx("p",{className:"text-gray-400 mt-1 text-sm sm:text-base",children:"Simulate trading with real TradingView signals"})]}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[e.jsx(j,{onClick:()=>u(!a),className:`${a?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:a?e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Pause"]}):e.jsxs(e.Fragment,{children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"Start"]})}),e.jsxs(j,{onClick:F,variant:"outline",className:"border-gray-600 text-gray-300 hover:text-white",children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),"Reset"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(o,{className:"bg-gray-800 border-gray-700",children:e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-300 mb-2 block",children:"Trading Pair"}),e.jsxs(b,{value:t,onValueChange:T,disabled:a,children:[e.jsx(v,{className:"bg-gray-700 border-gray-600 text-white",children:e.jsx(N,{})}),e.jsx(f,{children:c==null?void 0:c.map(s=>e.jsx(w,{value:s.symbol,children:s.symbol},s.symbol))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-300 mb-2 block",children:"Timeframe"}),e.jsxs(b,{value:i,onValueChange:C,disabled:a,children:[e.jsx(v,{className:"bg-gray-700 border-gray-600 text-white",children:e.jsx(N,{})}),e.jsx(f,{children:q.map(s=>e.jsx(w,{value:s.value,children:s.label},s.value))})]})]})]})})}),e.jsx(o,{className:"bg-gray-800 border-gray-700",children:e.jsx(h,{className:"p-4",children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Current Price"}),e.jsxs("p",{className:"text-xl font-bold text-white",children:["$",(n==null?void 0:n.toLocaleString())||"---"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Balance"}),e.jsxs("p",{className:"text-xl font-bold text-white",children:["$",p.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsxs("p",{className:`text-sm ${m>=0?"text-green-500":"text-red-500"}`,children:[m>=0?"+":"",m.toFixed(2),"%"]})]})]})})})})]}),e.jsxs(o,{className:"bg-gray-800 border-gray-700",children:[e.jsx(B,{children:e.jsxs(D,{className:"text-white flex items-center",children:[e.jsx(y,{className:"w-5 h-5 mr-2"}),"TradingView Signals - ",t," (",i,")",a&&e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full ml-2 animate-pulse"})]})}),e.jsx(h,{children:e.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:d&&d.length>0?d.slice(0,10).map(s=>{var r;return e.jsxs("div",{className:"p-3 rounded-lg bg-gray-750 border border-gray-600 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[s.signal==="buy"?e.jsx(L,{className:"w-4 h-4 text-green-500"}):e.jsx(M,{className:"w-4 h-4 text-red-500"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-white font-medium",children:[s.signal.toUpperCase()," Signal"]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["$",(r=s.price)==null?void 0:r.toLocaleString()," â€¢ ",s.timeframe]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(V,{variant:s.signal==="buy"?"default":"destructive",children:s.signal.toUpperCase()}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(s.timestamp).toLocaleTimeString()})]})]},s.id)}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(y,{className:"w-8 h-8 text-gray-500 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:a?"Waiting for TradingView signals...":"Select ticker and start simulation"})]})})})]})]})})]})})}export{le as default};
//# sourceMappingURL=trading-playground-CgLhRt4Y.js.map
